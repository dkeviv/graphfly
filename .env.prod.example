# Production (minimum)
GRAPHFLY_MODE=prod
GRAPHFLY_AUTH_MODE=jwt
GRAPHFLY_JWT_SECRET=replace_me
GRAPHFLY_QUEUE_MODE=pg
DATABASE_URL=postgres://...
GRAPHFLY_SECRET_KEY=base64_32_bytes
PG_POOL_MAX=20

# Stores (recommend explicit pg)
GRAPHFLY_GRAPH_STORE=pg
GRAPHFLY_DOC_STORE=pg
GRAPHFLY_REPO_STORE=pg
GRAPHFLY_ORG_STORE=pg
GRAPHFLY_SECRETS_STORE=pg
GRAPHFLY_ENTITLEMENTS_STORE=pg
GRAPHFLY_USAGE_COUNTERS=pg
GRAPHFLY_ORG_MEMBER_STORE=pg

# GitHub OAuth (required for OAuth-first onboarding + access in Mode 1)
GITHUB_OAUTH_CLIENT_ID=replace_me
GITHUB_OAUTH_CLIENT_SECRET=replace_me
GITHUB_OAUTH_REDIRECT_URI=https://app.example.com/#onboarding

# Webhooks (required for automatic incremental indexing; OAuth mode uses manual repo webhook setup)
GITHUB_WEBHOOK_SECRET=replace_me

# GitHub Apps (optional enterprise mode / least-privilege; installation tokens preferred when configured)
# GITHUB_APP_ID=123
# GITHUB_APP_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----

# App install URLs (optional; used by onboarding UI buttons)
# GITHUB_READER_APP_SLUG=graphfly-reader
# GITHUB_DOCS_APP_SLUG=graphfly-docs

# Docs (fallback only; orgs set docsRepoFullName via API)
DOCS_REPO_FULL_NAME=acme/docs

# Embeddings (enterprise recommended)
GRAPHFLY_EMBEDDINGS_MODE=http
GRAPHFLY_EMBEDDINGS_HTTP_URL=https://embeddings.example.com/v1/embeddings
GRAPHFLY_EMBEDDINGS_REQUIRED=1

# LLM (required by default in prod)
OPENROUTER_API_KEY=replace_me
# OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
# GRAPHFLY_LLM_MODEL=openai/gpt-4o-mini
